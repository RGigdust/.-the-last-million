// استبدل الجزء ده في الـ preload عندك لضمان قراءة الصور
function preload() {
    // المسار الكامل لضمان الوصول للصور على GitHub Pages
    const path = 'assets/'; 
    this.load.image('grass', path + 'images (38).jpeg');
    this.load.image('market', path + 'Images (1).png'); 
    this.load.image('clan', path + 'images (41).jpeg');
    this.load.image('shop', path + 'images (39).jpeg');
    this.load.image('lion', path + 'images (42).jpeg');
}

function create() {
    // تحديد حدود العالم عشان الأسد ميسرحش في الفراغ
    this.physics.world.setBounds(0, 0, 3000, 3000);
    
    // وضع العشب وتكراره
    let ground = this.add.tileSprite(1500, 1500, 3000, 3000, 'grass');

    // وضع المباني بمسافات مريحة للعين
    let market = this.physics.add.staticSprite(1000, 1000, 'market').setScale(0.4).setInteractive();
    let clan = this.physics.add.staticSprite(2000, 1000, 'clan').setScale(0.5).setInteractive();
    let shop = this.physics.add.staticSprite(1500, 1800, 'shop').setScale(0.4).setInteractive();

    // الأسد (بطل اللعبة)
    player = this.physics.add.sprite(1500, 1500, 'lion').setScale(0.25);
    player.setCollideWorldBounds(true);

    // الكاميرا تتبع الأسد بنعومة
    this.cameras.main.startFollow(player, true, 0.05, 0.05);
    this.cameras.main.setZoom(1);

    // التفاعل عند اللمس
    this.input.on('pointerdown', (pointer) => {
        target = pointer.positionToCamera(this.cameras.main);
        this.physics.moveToObject(player, target, 200);
    });
}
