function preload() {
    // المسار المباشر لملفاتك
    const baseUrl = 'https://rgigdust.github.io/.-the-last-million/assets/';
    
    // ناديت الصور بأساميها اللي انت بعتها بالظبط (بالقوس والمسافة)
    this.load.image('grass', baseUrl + 'images%20(38).jpeg');
    this.load.image('market', baseUrl + 'Images%20(1).png'); 
    this.load.image('clan', baseUrl + 'images%20(41).jpeg');
    this.load.image('shop', baseUrl + 'images%20(39).jpeg');
    this.load.image('lion', baseUrl + 'images%20(42).jpeg');
}

function create() {
    // خلفية بسيطة للتأكد أن المحرك يعمل
    this.add.rectangle(1500, 1500, 3000, 3000, 0x004400);

    // إضافة العشب
    this.add.tileSprite(1500, 1500, 3000, 3000, 'grass');

    // وضع المباني (لو الصور محملتش هيظهر مكانها مربعات خضراء مؤقتاً)
    let b1 = this.physics.add.staticSprite(1200, 1200, 'market').setScale(0.5);
    let b2 = this.physics.add.staticSprite(1800, 1200, 'clan').setScale(0.5);
    let b3 = this.physics.add.staticSprite(1500, 1800, 'shop').setScale(0.5);

    // الأسد
    player = this.physics.add.sprite(1500, 1500, 'lion').setScale(0.3);
    
    this.cameras.main.startFollow(player);
    
    this.input.on('pointerdown', (pointer) => {
        let touchX = pointer.x + this.cameras.main.scrollX;
        let touchY = pointer.y + this.cameras.main.scrollY;
        this.physics.moveTo(player, touchX, touchY, 250);
    });
}
