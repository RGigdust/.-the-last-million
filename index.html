<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <script src="https://cdn.jsdelivr.net/npm/phaser@3.60.0/dist/phaser.min.js"></script>
    <style>body { margin: 0; background: #000; overflow: hidden; }</style>
</head>
<body>
    <script>
        const config = {
            type: Phaser.AUTO,
            width: window.innerWidth,
            height: window.innerHeight,
            physics: { default: 'arcade' },
            scene: { preload: preload, create: create, update: update }
        };

        const game = new Phaser.Game(config);
        let player, target;

        function preload() {
            // Ø±ÙˆØ§Ø¨Ø· ØµÙˆØ± Ø¹Ø§Ù„Ù…ÙŠØ© Ø¬Ø§Ù‡Ø²Ø© (Ø¹Ø´Ø§Ù† Ù†ÙƒØ³Ø± Ù†Ø­Ø³ Ø§Ù„ØµÙˆØ± Ø§Ù„Ù„ÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„)
            this.load.image('grass', 'https://labs.phaser.io/assets/textures/grass.png');
            this.load.image('lion', 'https://labs.phaser.io/assets/sprites/beast.png'); // ØµÙˆØ±Ø© ÙˆØ­Ø´ ÙØ®Ù…Ø© Ù…Ø¤Ù‚ØªØ§Ù‹
            this.load.image('building', 'https://labs.phaser.io/assets/sprites/fuji.png'); // Ù…Ø¨Ù†Ù‰ ÙŠØ§Ø¨Ø§Ù†ÙŠ ÙØ®Ù… ÙƒØ¨ÙˆØ±ØµØ©
        }

        function create() {
            // ÙØ±Ø´ Ø§Ù„Ø£Ø±Ø¶ÙŠØ©
            this.add.tileSprite(1500, 1500, 3000, 3000, 'grass');

            // Ø§Ù„Ù…Ø¨Ø§Ù†ÙŠ (Ø§Ù„Ø¨ÙˆØ±ØµØ© ÙˆØ§Ù„Ù‚Ù„Ø¹Ø©)
            let b1 = this.add.image(1200, 1200, 'building').setScale(0.8);
            this.add.text(1200, 1100, 'ðŸ›ï¸ Ø§Ù„Ø¨ÙˆØ±ØµØ© Ø§Ù„Ù…Ù„ÙƒÙŠØ©', { fill: '#ffd700', backgroundColor: '#000' }).setOrigin(0.5);

            // Ø§Ù„Ø£Ø³Ø¯ (Ø§Ù„Ù„Ø§Ø¹Ø¨)
            player = this.physics.add.sprite(window.innerWidth/2, window.innerHeight/2, 'lion').setScale(1.5);
            
            this.cameras.main.startFollow(player, true, 0.05, 0.05);

            this.input.on('pointerdown', (pointer) => {
                target = pointer.positionToCamera(this.cameras.main);
                this.physics.moveToObject(player, target, 300);
            });
        }

        function update() {
            if (target && player.body) {
                let dist = Phaser.Math.Distance.Between(player.x, player.y, target.x, target.y);
                if (dist < 10) { player.body.reset(player.x, player.y); target = null; }
                player.setFlipX(player.body.velocity.x < 0);
            }
        }
    </script>
</body>
</html>
