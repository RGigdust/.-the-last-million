<style>
    /* الغابة أصبحت عالم كامل */
    #world {
        width: 3000px; height: 3000px;
        background-image: url('https://img.freepik.com/free-vector/forest-landscape-with-trees-rocks-night_107791-16322.jpg'); /* مثال لغابة داكنة */
        background-size: 800px;
        position: absolute;
        transition: 0.4s cubic-bezier(0.25, 0.1, 0.25, 1);
    }

    #player-container {
        position: fixed;
        top: 50%; left: 50%;
        transform: translate(-50%, -50%);
        z-index: 100;
    }

    .lion-sprite {
        width: 100px;
        filter: drop-shadow(0 0 15px gold);
        transition: 0.3s;
    }

    /* تأثيرات الأناقة */
    .glow-coin {
        position: absolute;
        width: 25px; height: 25px;
        background: radial-gradient(circle, gold, #d4af37);
        border-radius: 50%;
        box-shadow: 0 0 20px gold;
    }
</style>

<div id="game-container" style="width: 100vw; height: 100vh; overflow: hidden; position: relative;">
    <div id="world">
        <div class="glow-coin" style="top: 400px; left: 600px;"></div>
        <div class="glow-coin" style="top: 1200px; left: 300px;"></div>
        <div class="glow-coin" style="top: 800px; left: 1500px;"></div>
    </div>

    <div id="player-container">
        <img src="wingedlionpng.png" class="lion-sprite" id="lion-player">
    </div>
</div>

<script>
    const world = document.getElementById('world');
    const lion = document.getElementById('lion-player');

    document.getElementById('game-container').addEventListener('click', (e) => {
        // حساب الحركة "عكس" اتجاه اللمس عشان العالم هو اللي يتحرك
        const moveX = (window.innerWidth / 2) - e.clientX;
        const moveY = (window.innerHeight / 2) - e.clientY;

        // تحريك العالم (الغابة)
        const currentTransform = new WebKitCSSMatrix(window.getComputedStyle(world).transform);
        world.style.transform = `translate(${currentTransform.m41 + moveX}px, ${currentTransform.m42 + moveY}px)`;

        // لف وجه الأسد
        if (moveX < 0) lion.style.transform = "scaleX(1)";
        else lion.style.transform = "scaleX(-1)";

        // اهتزاز "بريميوم"
        if (window.Telegram?.WebApp) {
            window.Telegram.WebApp.HapticFeedback.impactOccurred('light');
        }
    });
</script>
