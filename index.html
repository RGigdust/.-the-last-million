// Ø¯Ø§Ø®Ù„ Ø¯Ø§Ù„Ø© preload
this.load.image('building_market', 'https://cdn-icons-png.flaticon.com/512/4341/4341044.png'); // Ù…Ø¨Ù†Ù‰ Ø§Ù„Ø¨ÙˆØ±ØµØ©
this.load.image('building_shop', 'https://cdn-icons-png.flaticon.com/512/1162/1162464.png');   // Ù…Ø¨Ù†Ù‰ Ø§Ù„Ù…ØªØ¬Ø±
this.load.image('ground', 'https://img.freepik.com/free-vector/green-grass-texture-background_1308-54338.jpg'); // Ø£Ø±Ø¶ÙŠØ© Ø¹Ø´Ø¨

// Ø¯Ø§Ø®Ù„ Ø¯Ø§Ù„Ø© create
// 1. Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø£Ø±Ø¶ÙŠØ© Ø¨Ø¯Ù„ Ø§Ù„Ø³ÙˆØ§Ø¯
let background = this.add.tileSprite(2000, 2000, 4000, 4000, 'ground').setAlpha(0.3);

// 2. Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø¨Ø§Ù†ÙŠ ÙƒÙ…Ù†Ø§Ø·Ù‚ ØªÙØ§Ø¹Ù„ÙŠØ©
let marketHouse = this.physics.add.staticSprite(1800, 1800, 'building_market').setScale(0.6);
let shopHouse = this.physics.add.staticSprite(2200, 1800, 'building_shop').setScale(0.6);

// 3. Ø¥Ø¶Ø§ÙØ© Ù†ØµÙˆØµ ÙÙˆÙ‚ Ø§Ù„Ù…Ø¨Ø§Ù†ÙŠ
this.add.text(1800, 1700, "ðŸ›ï¸ Ø§Ù„Ø¨ÙˆØ±ØµØ© Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠØ©", { fill: '#ffd700', fontSize: '20px', backgroundColor: '#000' }).setOrigin(0.5);
this.add.text(2200, 1700, "ðŸ’° Ø§Ù„Ù…ØªØ¬Ø± Ø§Ù„Ù…Ù„ÙƒÙŠ", { fill: '#ffd700', fontSize: '20px', backgroundColor: '#000' }).setOrigin(0.5);

// 4. Ù†Ø¸Ø§Ù… "Ø§Ù„Ø§Ù‚ØªØ±Ø§Ø¨ Ù„Ù„Ø¯Ø®ÙˆÙ„"
this.physics.add.overlap(player, marketHouse, () => {
    // ØªØ¸Ù‡Ø± Ø±Ø³Ø§Ù„Ø© "Ø§Ø¶ØºØ· Ù„Ù„Ø¯Ø®ÙˆÙ„ Ù„Ù„Ø¨ÙˆØ±ØµØ©"
    if (Phaser.Input.Keyboard.JustDown(this.input.activePointer)) {
        openMarket(); // Ø§Ù„Ø¯Ø§Ù„Ø© Ø§Ù„Ù„ÙŠ Ø¨Ø±Ù…Ø¬Ù†Ø§Ù‡Ø§
    }
});
